<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Muddu ‚ù§Ô∏è</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;600;700&display=swap');

        body {
            margin: 0; padding: 0;
            background: #fff0f3;
            font-family: 'Quicksand', sans-serif;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; overflow: hidden;
            touch-action: manipulation;
        }

        /* Raining Background Hearts */
        .heart-fall {
            position: fixed; top: -10%;
            font-size: 20px; color: #ff4d6d;
            z-index: -1; animation: fallDown linear forwards;
        }
        @keyframes fallDown { to { transform: translateY(110vh) rotate(360deg); } }

        .container {
            width: 90%; max-width: 420px;
            background: white; border: 6px solid #ffccd5;
            border-radius: 40px; padding: 25px;
            text-align: center; box-shadow: 0 15px 40px rgba(255, 182, 193, 0.4);
            position: relative; z-index: 10;
        }

        .gif-box img { width: 100%; max-width: 180px; border-radius: 20px; margin-bottom: 10px; }
        h1 { font-family: 'Dancing Script', cursive; color: #ff4d6d; font-size: 2.2rem; margin: 10px 0; }
        
        .btn-box {
            display: flex; justify-content: center; gap: 20px;
            margin-top: 25px; height: 100px; position: relative;
            background: rgba(255, 204, 213, 0.1); border-radius: 20px;
        }

        .btn {
            padding: 12px 25px; border: none; border-radius: 50px;
            font-size: 1.1rem; font-weight: 700; cursor: pointer;
        }

        #yesBtn { background: #ff4d6d; color: white; }
        #noBtn { background: #ffb3c1; color: white; position: absolute; transition: 0.1s; }

        /* Falling Game Styles */
        #game-canvas {
            background: #fff9fa; border: 3px dashed #ffccd5;
            border-radius: 25px; margin: 15px 0;
            width: 100%; height: 250px; touch-action: none;
        }

        .quiz-btn {
            display: block; width: 100%; padding: 15px; margin: 10px 0;
            background: #fff0f3; border: 2px solid #ffccd5;
            border-radius: 15px; cursor: pointer; font-weight: 700; color: #ff4d6d;
        }

        .hidden { display: none; }
    </style>
</head>
<body>
    <div id="heartPool"></div>

    <div id="page1" class="container">
        <div class="gif-box"><img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHpndnN6NXR6cnp6cnp6cnp6cnp6cnp6cnp6cnp6cnp6cnp6cnp6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1z/L4lvBpHW2fAXYpSFAp/giphy.gif"></div>
        <h1>Hi Muddu... ‚ù§Ô∏è</h1>
        <p>I have a secret question... Do you love me?</p>
        <div class="btn-box" id="btnContainer">
            <button class="btn" id="yesBtn" onclick="nextPage(2)">YES!</button>
            <button class="btn" id="noBtn" onmouseover="moveNo()" ontouchstart="moveNo()">No</button>
        </div>
    </div>

    <div id="page2" class="container hidden">
        <h1>Catch My Kisses! üå∏</h1>
        <p>Catch 5 falling hearts!</p>
        <canvas id="game-canvas"></canvas>
        <p id="score" style="color: #ff4d6d; font-size: 1.5rem; font-weight: bold;">Score: 0 / 5</p>
    </div>

    <div id="page3" class="container hidden">
        <div id="quiz-content">
            <div class="gif-box"><img id="quiz-gif" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3RscW9mYmtndXhyZmx3enR6bnR6bnR6bnR6bnR6bnR6bnR6bnR6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1z/v6aOebdclIYAnYToSx/giphy.gif"></div>
            <h1 id="quiz-q">Question 1</h1>
            <p id="quiz-msg" style="color: #ff4d6d; height: 20px;"></p>
            <button class="quiz-btn" id="opt1" onclick="checkAnswer(true)"></button>
            <button class="quiz-btn" id="opt2" onclick="checkAnswer(false)"></button>
        </div>
    </div>

    <div id="page4" class="container hidden">
        <div class="gif-box"><img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExN3RscW9mYmtndXhyZmx3enR6bnR6bnR6bnR6bnR6bnR6bnR6bnR6bnR6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1z/m8X6pL8Z0lA6MUM0jN/giphy.gif"></div>
        <h1>My Dearest Muddu ‚ù§Ô∏è</h1>
        <p style="text-align: left; line-height: 1.6; color: #444;">
            I know you sometimes feel like you don't deserve this much effort. But to me, you are everything. Even though I'm away, you are the only thought that keeps me smiling. You don't have to "react"‚Äîjust being you is the greatest gift. I love you forever.
        </p>
        <button class="btn" id="yesBtn" onclick="location.reload()" style="margin-top:10px;">Start Over?</button>
    </div>

    <script>
        let score = 0;
        let currentQuiz = 0;
        const quizData = [
            { q: "Who is the Cutest?", a1: "MeüòÅ", a2: "You‚ù§Ô∏è", correct: 1 },
            { q: "What do you like More?", a1: "My Hugsü´Ç", a2: "My KissesüëÑ", correct: 2 },
            { q: "What is my Fav Food?", a1: "Biriyani", a2: "You üòÅ", correct: 2 },
            { q: "Do you like this surprise?", a1: "I love it!", a2: "It's okay", correct: 1 }
        ];

        function nextPage(num) {
            document.querySelectorAll('.container').forEach(c => c.classList.add('hidden'));
            document.getElementById('page' + num).classList.remove('hidden');
            if(num === 2) startFallingGame();
            if(num === 3) loadQuiz();
        }

        function loadQuiz() {
            const data = quizData[currentQuiz];
            document.getElementById('quiz-q').innerText = data.q;
            document.getElementById('opt1').innerText = data.a1;
            document.getElementById('opt2').innerText = data.a2;
            document.getElementById('quiz-msg').innerText = "";
        }

        function checkAnswer(isOpt1) {
            const data = quizData[currentQuiz];
            const selected = isOpt1 ? 1 : 2;
            if(selected === data.correct) {
                currentQuiz++;
                if(currentQuiz >= quizData.length) nextPage(4);
                else loadQuiz();
            } else {
                document.getElementById('quiz-msg').innerText = "Nahh!! Try again Madam Jii üòâ";
            }
        }

        function moveNo() {
            const btn = document.getElementById('noBtn');
            const container = document.getElementById('btnContainer');
            btn.style.left = Math.random() * (container.clientWidth - btn.clientWidth) + 'px';
            btn.style.top = Math.random() * (container.clientHeight - btn.clientHeight) + 'px';
        }

        function startFallingGame() {
            const canvas = document.getElementById('game-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth; canvas.height = canvas.offsetHeight;
            
            let heartY = 0; let heartX = Math.random() * (canvas.width - 40) + 20;
            let speed = 3;

            function animate() {
                if (score >= 5) return;
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.font = "40px Arial";
                ctx.fillText("‚ù§Ô∏è", heartX, heartY);
                heartY += speed;

                if (heartY > canvas.height) { heartY = 0; heartX = Math.random() * (canvas.width - 40) + 20; }
                requestAnimationFrame(animate);
            }

            const checkHit = (tx, ty) => {
                const r = canvas.getBoundingClientRect();
                const x = tx - r.left; const y = ty - r.top;
                if (Math.abs(x - heartX) < 40 && Math.abs(y - heartY) < 40) {
                    score++;
                    document.getElementById('score').innerText = `Score: ${score} / 5`;
                    heartY = 0; heartX = Math.random() * (canvas.width - 40) + 20;
                    if (score >= 5) nextPage(3);
                }
            };

            canvas.onclick = (e) => checkHit(e.clientX, e.clientY);
            canvas.ontouchstart = (e) => checkHit(e.touches[0].clientX, e.touches[0].clientY);
            animate();
        }

        // RAINING HEARTS
        setInterval(() => {
            const h = document.createElement('div');
            h.classList.add('heart-fall'); h.innerHTML = '‚ù§Ô∏è';
            h.style.left = Math.random() * 100 + 'vw'; h.style.animationDuration = (Math.random() * 3 + 2) + 's';
            document.getElementById('heartPool').appendChild(h);
            setTimeout(() => h.remove(), 5000);
        }, 400);
    </script>
</body>
</html>
