<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Muddu ‚ù§Ô∏è</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;600;700&display=swap');

        body {
            margin: 0; padding: 0;
            background: #fff0f3;
            font-family: 'Quicksand', sans-serif;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; overflow: hidden;
            touch-action: manipulation;
        }

        /* Raining Hearts Background */
        .heart-fall {
            position: fixed; top: -10%;
            font-size: 20px; color: #ff4d6d;
            user-select: none; z-index: -1;
            animation: fallDown linear forwards;
        }
        @keyframes fallDown {
            to { transform: translateY(110vh) rotate(360deg); }
        }

        .container {
            width: 90%; max-width: 420px;
            background: white; border: 6px solid #ffccd5;
            border-radius: 40px; padding: 25px;
            text-align: center; box-shadow: 0 15px 40px rgba(255, 182, 193, 0.4);
            position: relative; z-index: 10;
        }

        .gif-box img { width: 100%; max-width: 180px; border-radius: 20px; margin-bottom: 15px; }
        h1 { font-family: 'Dancing Script', cursive; color: #ff4d6d; font-size: 2.2rem; margin: 10px 0; }
        p { color: #555; font-weight: 600; }

        /* No-Button Container */
        .btn-box {
            display: flex; justify-content: center; gap: 20px;
            margin-top: 25px; height: 100px; position: relative;
            background: rgba(255, 204, 213, 0.1); border-radius: 20px;
        }

        .btn {
            padding: 12px 25px; border: none; border-radius: 50px;
            font-size: 1.1rem; font-weight: 700; cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        #yesBtn { background: #ff4d6d; color: white; z-index: 50; }
        #noBtn { background: #ffb3c1; color: white; position: absolute; z-index: 40; transition: 0.1s; }

        /* Quiz Styling */
        .quiz-btn {
            display: block; width: 100%; padding: 15px; margin: 10px 0;
            background: #fff0f3; border: 2px solid #ffccd5;
            border-radius: 15px; cursor: pointer; font-weight: 700;
            color: #ff4d6d; transition: 0.3s;
        }
        .quiz-btn:hover { background: #ffccd5; }

        #game-canvas {
            background: #fff9fa; border: 3px dashed #ffccd5;
            border-radius: 25px; margin: 15px 0;
            width: 100%; height: 200px; touch-action: none;
        }

        .letter-text {
            background: #fff9fa; border-left: 6px solid #ff4d6d;
            padding: 20px; text-align: left; border-radius: 15px;
            font-size: 1rem; line-height: 1.8; color: #444;
        }

        .hidden { display: none; }
    </style>
</head>
<body>
    <div id="heartPool"></div>

    <div id="page1" class="container">
        <div class="gif-box"><img src="https://media.tenor.com/On7_59y0_N8AAAAi/milk-and-mocha.gif"></div>
        <h1>Hi Muddu... ‚ù§Ô∏è</h1>
        <p>I have a secret question... Do you love me?</p>
        <div class="btn-box" id="btnContainer">
            <button class="btn" id="yesBtn" onclick="nextPage(2)">YES!</button>
            <button class="btn" id="noBtn" onmouseover="moveNo()" ontouchstart="moveNo()">No</button>
        </div>
    </div>

    <div id="page2" class="container hidden">
        <h1>Game 1: Catch My Love! üå∏</h1>
        <p>Tap 5 hearts to reveal the quiz:</p>
        <canvas id="game-canvas"></canvas>
        <p id="score" style="color: #ff4d6d; font-size: 1.5rem; font-weight: bold;">Hearts: 0 / 5</p>
    </div>

    <div id="page3" class="container hidden">
        <div id="quiz-content">
            <div class="gif-box"><img id="quiz-gif" src="https://media.tenor.com/0uB0CId6r-gAAAAi/dance.gif"></div>
            <h1 id="quiz-q">Question 1</h1>
            <p id="quiz-msg">Choose the right answer!</p>
            <button class="quiz-btn" id="opt1" onclick="checkAnswer(true)">Option 1</button>
            <button class="quiz-btn" id="opt2" onclick="checkAnswer(false)">Option 2</button>
        </div>
    </div>

    <div id="page4" class="container hidden">
        <div class="gif-box"><img src="https://media.tenor.com/y1vO9l_7p_8AAAAi/love-hug.gif"></div>
        <h1>My Dearest Muddu ‚ù§Ô∏è</h1>
        <div class="letter-text">
            I know you sometimes feel like you don't deserve this much effort. But to me, you are the most deserving person in the world. <br><br>
            Even though I'm away, you are the thought that keeps me smiling. You don't have to "react"‚Äîjust being you is the greatest gift. I love you forever.
        </div>
        <button class="btn" id="yesBtn" onclick="location.reload()" style="margin-top:15px;">Start Over?</button>
    </div>

    <script>
        let currentQuiz = 0;
        const quizData = [
            { q: "Who is the cutest pookie?", a1: "Muddu ‚ù§Ô∏è", a2: "A potato", correct: 1, cry: "https://media.tenor.com/7Y9yv9Oat98AAAAi/pudu-pudu-panda.gif" },
            { q: "How much do I love you?", a1: "1% ", a2: "Infinite! ‚ú®", correct: 2, cry: "https://media.tenor.com/0uB0CId6r-gAAAAi/dance.gif" },
            { q: "Will you miss me today?", a1: "YESSS", a2: "Maybe...", correct: 1, cry: "https://media.tenor.com/y1vO9l_7p_8AAAAi/love-hug.gif" },
            { q: "Do you deserve my love?", a1: "No..", a2: "YES! 100%", correct: 2, cry: "https://media.tenor.com/7Y9yv9Oat98AAAAi/pudu-pudu-panda.gif" }
        ];

        function nextPage(num) {
            document.querySelectorAll('.container').forEach(c => c.classList.add('hidden'));
            document.getElementById('page' + num).classList.remove('hidden');
            if(num === 2) startHeartGame();
            if(num === 3) loadQuiz();
        }

        function loadQuiz() {
            const data = quizData[currentQuiz];
            document.getElementById('quiz-q').innerText = data.q;
            document.getElementById('opt1').innerText = data.a1;
            document.getElementById('opt2').innerText = data.a2;
            document.getElementById('quiz-msg').innerText = "Pick carefully!";
            document.getElementById('quiz-gif').src = "https://media.tenor.com/0uB0CId6r-gAAAAi/dance.gif";
        }

        function checkAnswer(isOpt1) {
            const data = quizData[currentQuiz];
            const selected = isOpt1 ? 1 : 2;
            if(selected === data.correct) {
                currentQuiz++;
                if(currentQuiz >= quizData.length) nextPage(4);
                else loadQuiz();
            } else {
                document.getElementById('quiz-msg').innerText = "WRONG! Try again pookie! üòÇ";
                document.getElementById('quiz-gif').src = data.cry;
            }
        }

        function moveNo() {
            const btn = document.getElementById('noBtn');
            const container = document.getElementById('btnContainer');
            const maxWidth = container.clientWidth - btn.clientWidth - 10;
            const maxHeight = container.clientHeight - btn.clientHeight - 10;
            btn.style.left = Math.random() * maxWidth + 'px';
            btn.style.top = Math.random() * maxHeight + 'px';
        }

        function startHeartGame() {
            const canvas = document.getElementById('game-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth; canvas.height = canvas.offsetHeight;
            let score = 0;
            let heart = { x: canvas.width/2, y: canvas.height/2 };
            function draw() { ctx.clearRect(0,0,canvas.width,canvas.height); ctx.font="50px Arial"; ctx.textAlign="center"; ctx.fillText("‚ù§Ô∏è", heart.x, heart.y); }
            function moveHeart() { heart.x = Math.random()*(canvas.width-60)+30; heart.y = Math.random()*(canvas.height-60)+30; draw(); }
            const check = (x,y) => { if(Math.sqrt((x-heart.x)**2+(y-heart.y)**2) < 50) { score++; document.getElementById('score').innerText=`Hearts: ${score}/5`; if(score>=5) nextPage(3); else moveHeart(); } };
            canvas.onclick = (e) => { const r = canvas.getBoundingClientRect(); check(e.clientX-r.left, e.clientY-r.top); };
            canvas.ontouchstart = (e) => { e.preventDefault(); const r = canvas.getBoundingClientRect(); check(e.touches[0].clientX-r.left, e.touches[0].clientY-r.top); };
            moveHeart();
        }

        setInterval(() => {
            const h = document.createElement('div');
            h.classList.add('heart-fall'); h.innerHTML = '‚ù§Ô∏è';
            h.style.left = Math.random()*100+'vw'; h.style.animationDuration = (Math.random()*3+2)+'s';
            document.getElementById('heartPool').appendChild(h);
            setTimeout(() => h.remove(), 5000);
        }, 300);
    </script>
</body>
</html>
